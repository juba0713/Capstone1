<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Evaluate Application</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/output.css" />
    <link rel="stylesheet" href="/css/input.css" />
    <style>
      * {
        box-sizing: border-box;
      }

      .checklist {
        background-color: #f1f1f1;
        min-width: 300px;
        padding: 40px;
        position: fixed;
        right: 0;
        top: 0;
        height: 100%;
        overflow-y: auto;
        padding-top: 80px;
      }

      input {
        border: none;
        height: 32px;
        border-color: transparent;
        background: transparent;
        width: 100%;
      }
      input:focus {
        outline: none;
      }
      input.invalid {
        background-color: #ffdddd;
      }

      input[type="radio"] {
        height: 40px;
        width: auto;
        transform: scale(1.5);
        background: none;
        margin-right: 8px;
        margin-left: 4px;
      }

      .error-container {
        position: absolute;
        top: 30px;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100;
      }

      .error-container div {
        background: red;
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        padding: 10px;
        border-radius: 10px;
      }

      .error {
        padding-left: 20px;
        font-size: 15px;
        font-weight: 600;
        color: #dc143c;
      }

      .modal {
        padding: 50px !important;
      }

      .rejected-modal-dialog {
        max-width: 100% !important;
        margin: 0 !important;
        display: flex;
        flex-direction: row;
        gap: 20px;
      }

      .application-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: center;
      }

      .application-list-tab {
        max-width: 400px;
        height: 100%;
        display: flex;
      }

      .application-details-tab {
        height: 900px;
        overflow: auto;
      }
    </style>
  </head>
  <body class="font-secondary" th:object="${tbiBoardWebDto}">
    <div class="error-container" th:if="${error != null}" id="flash-message">
      <div th:text="${error}"></div>
    </div>
    <div class="h-20 sticky top-0 z-10 bg-opacity-5 backdrop-blur-[3px]">
      <div
        class="flex items-center justify-end h-full p-10 font-primary text-4xl text-center"
      >
        Evaluate Application
      </div>
      <a th:href="@{/tbi-board/home}" class="ad-back-button">Back to home</a>
      <button
        class="ad-back-button"
        data-toggle="modal"
        data-target="#exampleModalCenter"
        th:if="*{!#lists.isEmpty(projectIdPks)}"
      >
        History
      </button>
    </div>
    <div class="error-container" id="globalError" style="display: none">
      <div>Please fill out all required fields!</div>
    </div>
    <div class="w-[55%]">
      <div class=" ">
        <div
          th:replace="~{fragments/applicationDetails :: applicationDetails}"
        ></div>
      </div>

      <form th:action="@{/tbi-board/evaluate}" method="POST">
        <input
          type="hidden"
          name="encryptedApplicantIdPk"
          th:value="*{applicantDetailsObj.encryptedApplicantIdPk}"
        />

        <div class="checklist w-[45%] text-sm">
          <h1 class="font-semibold text-lg">Evaluation Form</h1>
          <div>
            <div
              class="pt-3 flex flex-col w-full relative border-gray-200 bg-transparent focus-within:border-blue-600"
            >
              <div class="text-black">
                Please use the Likert scale to express your level of agreement
                with each statement, where 1 is the lowest (strongly disagree)
                and 10 is the highest (strongly agree). This comprehensive
                evaluation will assess the technical, social, commercial,
                scalability, and management aspects of the proposed projects.
                <br /><br />
                Rating:<br />
                <div class="p-4">
                  <ol style="list-style-type: decimal" class="border-red-500">
                    <li>
                      <strong>Strongly Disagree:</strong> Completely disagree
                      with the statement; the proposal does not meet the
                      criterion at all.
                    </li>
                    <li>
                      <strong>Disagree Significantly:</strong> Major issues
                      exist, showing significant disagreement with the
                      statement.
                    </li>
                    <li>
                      <strong>Disagree Considerably:</strong> Clear
                      disagreement, though not as severe as the lower levels.
                    </li>
                    <li>
                      <strong>Somewhat Disagree:</strong> Some aspects are
                      disagreeable, but not entirely.
                    </li>
                    <li>
                      <strong>Slightly Disagree:</strong> Mild disagreement,
                      with some elements still aligning with the statement.
                    </li>
                    <li>
                      <strong>Slightly Agree:</strong> Mild agreement, but with
                      noticeable areas of improvement needed.
                    </li>
                    <li>
                      <strong>Somewhat Agree:</strong> Generally agree, but with
                      some reservations or minor issues.
                    </li>
                    <li>
                      <strong>Agree Considerably:</strong> Strong agreement,
                      though not perfect, with most criteria met.
                    </li>
                    <li>
                      <strong>Agree Significantly:</strong> Almost complete
                      agreement, with very minor issues if any.
                    </li>
                    <li>
                      <strong>Strongly Agree:</strong> Full agreement,
                      indicating that the proposal excellently meets the
                      criterion.
                    </li>
                  </ol>
                </div>
              </div>
            </div>
          </div>
          <hr class="my-4" />

          <div>
            <div class="w-full overflow-x-auto max-h-[550px]">
              <!-- <div class="overflow-auto w-[700px] h-[550px]"> -->
              <div class="min-w-[1000px]">
                <div>
                  <table class="w-full h-full">
                    <thead>
                      <tr>
                        <th
                          class="w-1/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                        >
                          Criteria
                        </th>
                        <th
                          class="w-1/4 font-semibold border border-gray-500 px-4 py-2 text-sm"
                        >
                          Guide Question
                        </th>
                        <th
                          class="w-1/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                        >
                          Rating (1-10)
                        </th>
                        <th
                          class="w-1/4 font-semibold border border-gray-500 px-4 py-2 text-sm"
                        >
                          Comment
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th
                          colspan="4"
                          class="text-left font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Technical Viability (10%)
                        </th>
                      </tr>

                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Maturity for Implementation
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <!-- oninput="this.className = ''" -->
                          <p class="resize-none w-full sm:text-sm">
                            To what extent do you agree that the technology is
                            mature and ready for acceleration?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctOneRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctOneRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctOneComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr>
                        <th
                          colspan="4"
                          class="text-left font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Social and Environmental Impact (10%)
                        </th>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Environmental and Health Safety
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            How strongly do you agree that the technology poses
                            no immediate or long-term hazards to the
                            environment, health, or safety?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctTwoRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctTwoRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctTwoComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr>
                        <th
                          colspan="4"
                          class="text-left font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Commercial Viability (20%)
                        </th>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Market Competitiveness
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            To what extent do you agree that the technology is
                            competitive over existing market products or
                            processes?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctThreeRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctThreeRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctThreeComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Market Potential
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            How strongly do you agree that the technology has a
                            strong market potential?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctFourRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctFourRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctFourComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr>
                        <th
                          colspan="4"
                          class="text-left font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Scalability (30%)
                        </th>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Potential for Scale-up
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            To what extent do you agree that the technology can
                            be scaled up efficiently and effectively to meet
                            growing demand?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctFiveRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctFiveRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctFiveComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr>
                        <th
                          colspan="4"
                          class="text-left font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Management Capability (15%)
                        </th>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Leadership Competence
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            How strongly do you agree that the project leader
                            demonstrates necessary technical and managerial
                            competence?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctSixRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctSixRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctSixComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Workforce and Facilities
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            To what extent do you agree that there is a
                            competent and reliable workforce and facilities
                            available for the project?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctSevenRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctSevenRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctSevenComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr class="h-[150px]">
                        <th
                          class="font-normal border border-gray-500 px-4 py-2 text-sm"
                        >
                          Realistic Project Timeline (15%)
                        </th>
                        <td class="border border-gray-500 px-2 py-2">
                          <p class="resize-none w-full sm:text-sm">
                            How strongly do you agree that the project timeline
                            is manageable and realistic?
                          </p>
                        </td>
                        <td class="border border-gray-500 px-2 py-2">
                          <div class="text-sm">
                            <div
                              id="rating"
                              name="ctEightRating"
                              class="rating-container"
                              data-value="none"
                              required
                            >
                              <input
                                type="hidden"
                                name="ctEightRating"
                                class="hidden-input"
                                value="0"
                              />

                              <div class="w-full grid grid-cols-5 gap-1 mb-1">
                                <button
                                  type="button"
                                  data-value="1"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  1
                                </button>
                                <button
                                  type="button"
                                  data-value="2"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  2
                                </button>
                                <button
                                  type="button"
                                  data-value="3"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  3
                                </button>
                                <button
                                  type="button"
                                  data-value="4"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  4
                                </button>
                                <button
                                  type="button"
                                  data-value="5"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  5
                                </button>
                              </div>
                              <div class="w-full grid grid-cols-5 gap-1">
                                <button
                                  type="button"
                                  data-value="6"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  6
                                </button>
                                <button
                                  type="button"
                                  data-value="7"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  7
                                </button>
                                <button
                                  type="button"
                                  data-value="8"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  8
                                </button>
                                <button
                                  type="button"
                                  data-value="9"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  9
                                </button>
                                <button
                                  type="button"
                                  data-value="10"
                                  class="rating-btn shadow-sm w-8 h-8 rounded-md flex items-center justify-center text-sm text-gray-700 border border-gray-200 focus:outline-none focus:ring-0 transition-colors"
                                >
                                  10
                                </button>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="border border-gray-500 px-2 py-2">
                          <textarea
                            oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                            name="ctEightComments"
                            placeholder="Enter comment"
                            class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                          ></textarea>
                        </td>
                      </tr>
                      <tr>
                        <th
                          colspan="2"
                          class="h-[100px] border border-gray-500 px-4 py-2 text-sm text-center font-semibold"
                        >
                          Total
                        </th>

                        <td class="border border-gray-500 px-2 py-2">
                          <div
                            class="text-sm flex justify-center total-score font-semibold"
                          ></div>
                        </td>
                        <td class="border border-gray-500 px-2 py-2"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <hr class="my-4" />

          <!-- Feedback -->
          <div class="flex flex-col">
            <!-- th:data-id="${app.applicantIdPk}" -->
            <div class="w-full h-[100px]">
              <h2 class="text-black mb-2">
                Feedback<span class="text-red-600"> *</span>
              </h2>
              <textarea
                oninput="this.className = 'resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm'"
                name="tbiFeedback"
                placeholder="Input feedback"
                class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
              ></textarea>
            </div>
            <button
              class="flex justify-center items-center self-end text-center mt-5 h-[50px] border-black hover:bg-green-500 bg-green-600 rounded-lg w-w45 hover:text-black text-gray-50 font-secondary sm:text-sm text-xs sm:p-1"
              type="submit"
              name="accept"
            >
              Submit
            </button>
          </div>
        </div>
      </form>

      <div
        class="modal fade"
        id="exampleModalCenter"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered rejected-modal-dialog"
          role="document"
        >
          <div class="modal-content application-list-tab">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">History</h5>

              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body application-list">
              <div>
                <div>Rejected Count</div>
                <div
                  th:text="*{rejectedCount}"
                  style="text-align: center"
                ></div>
              </div>
              <button
                class="application-list rejected-applications view-btn"
                th:each="id, iStat : *{projectIdPks}"
                th:text="'Rejected Application #' + ${iStat.count}"
                th:value="${id}"
              ></button>
            </div>
          </div>
          <div class="modal-content application-details-tab">
            <div class="modal-body">
              <div
                th:replace="~{fragments/applicationDetailsRejected :: applicationDetailsRejected}"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      let totalScore = 0;
      let totalScoreHTML = document.querySelector(".total-score");
      let allValuesProvided = false;
      let previousValues = {};

      // Initialize the containers with their names
      const ratingNames = [
        "ctOneRating",
        "ctTwoRating",
        "ctThreeRating",
        "ctFourRating",
        "ctFiveRating",
        "ctSixRating",
        "ctSevenRating",
        "ctEightRating",
      ];

      document
        .querySelectorAll(".rating-container")
        .forEach((container, index) => {
          const containerName = container.getAttribute("name");
          const hiddenInput = container.querySelector(".hidden-input");
          previousValues[containerName] = 0;

          container.querySelectorAll(".rating-btn").forEach((button) => {
            button.addEventListener("click", function () {
              // Remove selected class from all buttons in this container
              container.querySelectorAll(".rating-btn").forEach((btn) => {
                btn.classList.remove(
                  "bg-blue-500",
                  "text-white",
                  "hover:bg-blue-600"
                );
                btn.classList.add("text-gray-700", "hover:bg-gray-50");
              });

              // Add selected styles to clicked button
              this.classList.remove("text-gray-700", "hover:bg-gray-50");
              this.classList.add(
                "bg-blue-500",
                "text-white",
                "hover:bg-blue-600"
              );

              // Update the container's data-value
              const currentValue = parseInt(this.dataset.value);
              container.dataset.value = currentValue;

              // Update the hidden input's value to reflect the selected rating
              hiddenInput.value = currentValue;

              // Define multiplier based on the index
              let multiplier = 1.0;
              if (index === 2 || index === 3) {
                multiplier = 2.0;
              } else if (index === 4) {
                multiplier = 3.0;
              } else if (index === 5 || index === 6 || index === 7) {
                multiplier = 1.5;
              }

              // Subtract the previous value's contribution to the total score
              totalScore -= previousValues[containerName] * multiplier;

              // Add the new value's contribution to the total score
              totalScore += currentValue * multiplier;

              // Update the previous value for this container
              previousValues[containerName] = currentValue;

              // Check if all rating containers have a selected value
              allValuesProvided = Array.from(
                document.querySelectorAll(".rating-container")
              ).every((container) => container.dataset.value !== "none");

              // If all ratings are provided, display the total score
              if (allValuesProvided) {
                let finalScore = Math.ceil(totalScore / 1.35);
                totalScoreHTML.innerHTML = finalScore;
              } else {
                // Display a message if not all ratings have been provided
                totalScoreHTML.innerHTML = "Please complete all selections.";
                totalScoreHTML.style.textAlign = "center"; // Center the text horizontally
                totalScoreHTML.style.display = "block"; // Ensure it's treated as a block
                totalScoreHTML.style.margin = "0 auto"; // Center the block horizontally
              }
            });
          });
        });
    </script>

    <script>
      // JavaScript function to remove the flash message after a specified time
      function hideFlashMessage() {
        const flashMessage = document.getElementById("flash-message");
        if (flashMessage) {
          setTimeout(() => {
            flashMessage.style.display = "none";
          }, 5000); // 5000 milliseconds = 5 seconds
        }
      }

      // Call the function on page load
      window.onload = hideFlashMessage;
    </script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <script th:inline="javascript">
      const webDto = /*[[${tbiBoardWebDto}]]*/ "";

      document.querySelectorAll(".view-btn").forEach((btn) =>
        btn.addEventListener("click", function () {
          retrieveApplicantDetails(webDto.encryptedApplicantIdPk, this.value);
        })
      );

      async function retrieveApplicantDetails(applicantIdPk, projectIdPk) {
        const url = `/tbi-board/retrieve/details?applicantIdPk=${applicantIdPk}&projectIdPk=${projectIdPk}`;
        const response = await fetch(url, { method: "GET" });

        if (!response.ok) {
          const errorData = await response.json();
          throw new Error(`Server Error: ${errorData.message || "Unknown"}`);
        }

        const data = await response.json();

        document.querySelector("#projectTitle").value =
          data.applicantDetailsObj.projectTitle;
        document.querySelector("#projectDescription").value =
          data.applicantDetailsObj.projectDescription;

        document.querySelectorAll("#teams[0][0]").value =
          data.applicantDetailsObj.teams[0][0];

        document.querySelectorAll("#teams[0][1]").value =
          data.applicantDetailsObj.teams[0][1];

        document.querySelectorAll("#teams[1][0]").value =
          data.applicantDetailsObj.teams[1][0];

        document.querySelectorAll("#teams[1][1]").value =
          data.applicantDetailsObj.teams[1][1];

        document.querySelectorAll("#teams[2][0]").value =
          data.applicantDetailsObj.teams[2][0];

        document.querySelectorAll("#teams[2][1]").value =
          data.applicantDetailsObj.teams[2][1];

        document.querySelectorAll("#teams[3][0]").value =
          data.applicantDetailsObj.teams[3][0];

        document.querySelectorAll("#teams[3][1]").value =
          data.applicantDetailsObj.teams[3][1];

        document.querySelectorAll("#teams[4][0]").value =
          data.applicantDetailsObj.teams[4][0];

        document.querySelectorAll("#teams[4][1]").value =
          data.applicantDetailsObj.teams[4][1];

        document.querySelector("#problemStatement").value =
          data.applicantDetailsObj.problemStatement;

        document.querySelector("#targetMarket").value =
          data.applicantDetailsObj.targetMarket;

        document.querySelector("#solutionDescription").value =
          data.applicantDetailsObj.solutionDescription;

        for (let i = 0; i < 5; i++) {
          for (let j = 0; j < 2; j++) {
            const selector = `#historicalTimeline${i}${j}`;
            const value =
              data.applicantDetailsObj.historicalTimeline[i] &&
              data.applicantDetailsObj.historicalTimeline[i][j]
                ? data.applicantDetailsObj.historicalTimeline[i][j]
                : "NA";
            document.querySelector(selector).value = value;
          }
        }

        for (let i = 0; i < 4; i++) {
          const selector = `#productServiceOffering${i}`;
          const value =
            data.applicantDetailsObj.productServiceOffering[i] !== undefined &&
            data.applicantDetailsObj.productServiceOffering[i].trim() !== ""
              ? data.applicantDetailsObj.productServiceOffering[i]
              : "NA";
          document.querySelector(selector).value = value;
        }

        for (let i = 0; i < 4; i++) {
          const selector = `#pricingStrategy${i}`;
          const value =
            data.applicantDetailsObj.pricingStrategy[i] !== undefined &&
            data.applicantDetailsObj.pricingStrategy[i].trim() !== ""
              ? data.applicantDetailsObj.pricingStrategy[i]
              : "NA";
          document.querySelector(selector).value = value;
        }

        if (
          data.applicantDetailsObj.intPropertyStatus !== undefined &&
          data.applicantDetailsObj.intPropertyStatus.trim() !== ""
        ) {
          document.querySelector("#intPropertyStatus").value =
            data.applicantDetailsObj.intPropertyStatus;
        } else {
          document.querySelector("#intPropertyStatus").value = "NA";
        }

        document.querySelector("#objectives").value =
          data.applicantDetailsObj.objectives;

        document.querySelector("#scopeProposal").value =
          data.applicantDetailsObj.scopeProposal;

        document.querySelector("#methodology").value =
          data.applicantDetailsObj.methodology;

        // document.querySelector("#vitaeFile").value =
        //   data.applicantDetailsObj.vitaeFile;

        if (
          data.applicantDetailsObj.supportLink !== undefined &&
          data.applicantDetailsObj.supportLink.trim() !== ""
        ) {
          document.querySelector("#supportLink").innerHTML =
            data.applicantDetailsObj.supportLink;
          document.querySelector("#supportLink").href =
            data.applicantDetailsObj.supportLink;
        } else {
          document.querySelector("#supportLink").innerHTML = "NA";
        }

        document.querySelector("#groupName").value =
          data.applicantDetailsObj.groupName;

        document.querySelector("#groupLeader").value =
          data.applicantDetailsObj.leaderLastName +
          ", " +
          applicantDetailsObj.leaderFirstName;

        document.querySelector("#leaderNumber").value =
          data.applicantDetailsObj.mobileNumber;

        document.querySelector("#leaderAddress").value =
          data.applicantDetailsObj.address;

        if (
          data.applicantDetailsObj.members[0] !== undefined &&
          !data.applicantDetailsObj.members[0].includes("null")
        ) {
          document.querySelector("#members[0]").value =
            data.applicantDetailsObj.members[0];
        } else {
          document.querySelector("#members[0]").value = "NA";
        }
        if (
          data.applicantDetailsObj.members[1] !== undefined &&
          !data.applicantDetailsObj.members[1].includes("null")
        ) {
          document.querySelector("#members[1]").value =
            data.applicantDetailsObj.members[1];
        } else {
          document.querySelector("#members[1]").value = "NA";
        }
        if (
          data.applicantDetailsObj.members[2] !== undefined &&
          !data.applicantDetailsObj.members[2].includes("null")
        ) {
          document.querySelector("#members[2]").value =
            data.applicantDetailsObj.members[2];
        } else {
          document.querySelector("#members[2]").value = "NA";
        }
        if (
          data.applicantDetailsObj.members[3] !== undefined &&
          !data.applicantDetailsObj.members[3].includes("null")
        ) {
          document.querySelector("#members[3]").value =
            data.applicantDetailsObj.members[3];
        } else {
          document.querySelector("#members[3]").value = "NA";
        }

        // document.querySelector("#members[1]").value=
        // data.applicantDetailsObj.members[1];

        // document.querySelector("#members[2]").value=
        // data.applicantDetailsObj.members[2];

        // document.querySelector("#members[3]").value=
        // data.applicantDetailsObj.members[3];

        if (
          data.applicantDetailsObj.university !== undefined &&
          data.applicantDetailsObj.university.trim() !== ""
        ) {
          document.querySelector("#university").value =
            data.applicantDetailsObj.university;
        } else {
          document.querySelector("#university").value = "NA";
        }
      }
    </script>
  </body>
</html>
