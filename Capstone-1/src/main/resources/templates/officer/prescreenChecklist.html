<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pre-screening Checklist</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/output.css" />
    <link rel="stylesheet" href="/css/input.css" />

    <style>
      * {
        box-sizing: border-box;
      }

      .checklist {
        background-color: #f1f1f1;
        min-width: 300px;
        padding: 40px;
        position: fixed;
        right: 0;
        top: 0;
        height: 100%;
        overflow-y: auto;
        padding-top: 80px;
      }

      input {
        border: none;
        height: 32px;
        border-color: transparent;
        background: transparent;
        width: 100%;
      }
      input:focus {
        outline: none;
      }
      input.invalid {
        background-color: #ffdddd;
      }

      input[type="radio"] {
        height: 40px;
        width: auto;
        transform: scale(1.5);
        background: none;
        margin-right: 8px;
        margin-left: 4px;
      }

      .error-container {
        position: absolute;
        top: 30px;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100;
      }

      .error-container div {
        background: red;
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        padding: 10px;
        border-radius: 10px;
      }

      .error {
        padding-left: 20px;
        font-size: 15px;
        font-weight: 600;
        color: #dc143c;
      }

      .modal {
        padding: 50px !important;
      }

      .rejected-modal-dialog {
        max-width: 100% !important;
        margin: 0 !important;
        display: flex;
        flex-direction: row;
        gap: 20px;
      }

      .application-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: center;
      }

      .application-list-tab {
        max-width: 400px;
        height: 100%;
        display: flex;
      }

      .application-details-tab {
        height: 900px;
        overflow: auto;
        border-radius: 20px;
      }
      .modal-content {
        max-height: 90vh; /* Adjust to fit your design */
        overflow: hidden; /* Ensure that scroll is contained within modal */
      }

      .modal-body {
        max-height: 85vh; /* Adjust to your desired content height */
        overflow-y: auto; /* Allow vertical scrolling */
      }

      .application-details-tab {
        height: auto; /* Adjust height dynamically */
        overflow: auto; /* Ensure the tab content is scrollable if needed */
      }
    </style>
  </head>
  <body class="font-secondary" th:object="${officerWebDto}">
    <script th:inline="javascript">
      console.log(/*[[${officerWebDto}]]*/ "");
    </script>
    <div class="error-container" th:if="${error != null}" id="flash-message">
      <div th:text="${error}"></div>
    </div>
    <div class="h-20 sticky top-0 z-10 bg-opacity-5 backdrop-blur-[3px]">
      <div
        class="flex items-center justify-end h-full p-10 font-primary text-4xl text-center"
      >
        Review Application
      </div>
      <a th:href="@{/officer/home}" class="ad-back-button">Back</a>
      <button
        class="history"
        data-toggle="modal"
        data-target="#exampleModalCenter"
        th:if="*{!#lists.isEmpty(projectIdPks)}"
      >
        History
      </button>
    </div>
    <div class="w-[55%]">
      <div class=" ">
        <div
          th:replace="~{fragments/applicationDetails :: applicationDetails}"
        ></div>
      </div>
      <!-- pre-screen checklist -->
      <form th:action="@{/officer/action}" method="POST">
        <input
          type="hidden"
          name="encryptedApplicantIdPk"
          th:value="*{encryptedApplicantIdPk}"
        />
        <div class="checklist w-[45%] text-sm">
          <h1 class="font-semibold text-lg">Pre-screening Checklist</h1>
          <div>
            <div
              class="pt-3 flex flex-col w-full relative border-gray-200 bg-transparent focus-within:border-blue-600"
            >
              <h2 class="text-black">
                Instruction: Please review each item and indicate compliance by
                marking 'Yes' or 'No' in the provided checkboxes. This
                assessment should be based on the information provided by the
                applicants in their submission materials. Ensure all sections
                are completed to maintain the integrity of the screening
                process.
                <br /><br />
                Compliance with all items is mandatory for the application to
                advance to the next stage, which involves evaluation by the
                [program name] board.
              </h2>
            </div>
          </div>
          <hr class="my-4" />

          <!--  Documentary Requirements-->
          <div>
            <div class="w-full overflow-x-auto">
              <!-- <div class="overflow-auto w-[700px] h-[550px]"> -->
              <div class="min-w-[1000px]">
                <h2 class="text-black">I. Documentary Requirements</h2>

                <table class="w-full h-full">
                  <thead>
                    <tr>
                      <th
                        class="w-1/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Category
                      </th>
                      <th
                        class="w-1/4 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Guide Question
                      </th>
                      <th
                        class="font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Compliant (Yes/No)
                      </th>
                      <th
                        class="w-2/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Comment
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        [program name] Capsule Proposal
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Has the applicant provided a detailed [program name]
                          capsule proposal including all required information?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctOneFlg"
                                value="true"
                                th:checked="*{ctOneFlg == null ? 'checked' : !ctOneFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctOneFlg"
                                value="false"
                                th:checked="*{ctOneFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          placeholder="Enter comment"
                          name="ctOneComments"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Work Plan/Gantt Chart
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Has the applicant created a detailed Work Plan or
                          Gantt Chart for their project?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctTwoFlg"
                                value="true"
                                th:checked="*{ctTwoFlg == null ? 'checked' : !ctTwoFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctTwoFlg"
                                value="false"
                                th:checked="*{ctTwoFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctTwoComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Curriculum Vitae
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Is the Curriculum Vitae of the Project Leader complete
                          and up-to-date?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctThreeFlg"
                                value="true"
                                th:checked="*{ctThreeFlg == null ? 'checked' : !ctThreeFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctThreeFlg"
                                value="false"
                                th:checked="*{ctThreeFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctThreeComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Proof of Concept Documentation
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Has the applicant provided documentation or evidence
                          for their prototype or proof of concept?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctFourFlg"
                                value="true"
                                th:checked="*{ctFourFlg == null ? 'checked' : !ctFourFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctFourFlg"
                                value="false"
                                th:checked="*{ctFourFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctFourComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <hr class="my-4" />

          <!--  Pre-Screening Criteria-->
          <div>
            <div class="w-full overflow-x-auto">
              <!-- <div class="overflow-auto w-[700px] h-[550px]"> -->
              <div class="min-w-[1000px]">
                <h2 class="text-black">II. Pre-Screening Criteria</h2>

                <table class="w-full h-full">
                  <thead>
                    <tr>
                      <th
                        class="w-1/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Category
                      </th>
                      <th
                        class="w-1/4 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Guide Question
                      </th>
                      <th
                        class="font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Compliant (Yes/No)
                      </th>
                      <th
                        class="w-2/5 font-semibold border border-gray-500 px-4 py-2 text-sm"
                      >
                        Comment
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Alignment with Theme
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Does the startup's proposal align with the current
                          cycle themes or priority areas of DASIG partners?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctFiveFlg"
                                value="true"
                                th:checked="*{ctFiveFlg == null ? 'checked' : !ctFiveFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctFiveFlg"
                                value="false"
                                th:checked="*{ctFiveFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctFiveComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Project Uniqueness
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Is the project unique and not a duplication of ongoing
                          projects under DASIG?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctSixFlg"
                                value="true"
                                th:checked="*{ctSixFlg == null ? 'checked' : !ctSixFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctSixFlg"
                                value="false"
                                th:checked="*{ctSixFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctSixComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Prototype/Proof of Concept
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Does the applicant have an early-stage prototype or
                          proof of concept for their product/service?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctSevenFlg"
                                value="true"
                                th:checked="*{ctSevenFlg == null ? 'checked' : !ctSevenFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctSevenFlg"
                                value="false"
                                th:checked="*{ctSevenFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctSevenComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Residency and Affiliation
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Is the project leader or founder a resident of Central
                          Visayas or affiliated with regional institutions?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctEightFlg"
                                value="true"
                                th:checked="*{ctEightFlg == null ? 'checked' : !ctEightFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctEightFlg"
                                value="false"
                                th:checked="*{ctEightFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctEightComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                    <tr>
                      <th
                        class="font-normal border border-gray-500 px-4 py-2 text-sm"
                      >
                        Intellectual Property Rights
                      </th>
                      <td class="border border-gray-500 px-2 py-2">
                        <p class="resize-none w-full sm:text-sm">
                          Are there any intellectual property conflicts with the
                          presented technology or solution?
                        </p>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <div class="text-sm">
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctNineFlg"
                                value="true"
                                th:checked="*{ctNineFlg == null ? 'checked' : !ctNineFlg}"
                              />
                              Yes</label
                            >
                          </div>
                          <div class="flex flex-row items-center">
                            <label class="cursor-pointer flex items-center">
                              <input
                                type="radio"
                                name="ctNineFlg"
                                value="false"
                                th:checked="*{ctNineFlg}"
                              />
                              No</label
                            >
                          </div>
                        </div>
                      </td>
                      <td class="border border-gray-500 px-2 py-2">
                        <textarea
                          name="ctNineComments"
                          placeholder="Enter comment"
                          class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
                        ></textarea>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- accept or reject button -->
          <hr class="my-4" />
          <div class="w-full h-[100px]">
            <h2 class="text-black mb-2">
              Recommendation<span class="text-red-600"> *</span>
            </h2>
            <textarea
              name="recommendation"
              placeholder="Input recommendations"
              class="resize-none w-full h-full border border-slate-300 rounded-md py-2 pl-3 shadow-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-1 sm:text-sm"
            ></textarea>
          </div>
          <hr class="my-4" />

          <!-- Accept and Reject buttons -->
          <div class="flex flex-row justify-between gap-1">
            <button
              class="w-2/5 btn-row border-black hover:bg-green-500 bg-green-600 rounded-lg hover:text-black text-gray-50 font-secondary sm:text-sm text-xs sm:p-1"
              type="button"
              data-toggle="modal"
              data-target="#accept-modal"
            >
              <!-- th:data-id="${app.applicantIdPk}" -->
              Accept
            </button>
            <div class="w-3/5 gap-1 flex flex-row justify-between">
              <button
                class="w-1/2 btn-row border-black hover:bg-orange-500 bg-orange-600 rounded-lg hover:text-black text-gray-50 font-secondary sm:text-sm text-xs sm:p-1"
                type="button"
                data-toggle="modal"
                data-target="#resubmit-modal"
              >
                <!-- th:data-id="${app.applicantIdPk}" -->
                Resubmission
              </button>
              <button
                class="w-1/2 btn-row border-black hover:bg-red-500 bg-red-600 rounded-lg hover:text-black text-gray-50 font-secondary sm:text-sm text-xs sm:p-1"
                type="button"
                data-toggle="modal"
                data-target="#reject-modal"
              >
                <!-- th:data-id="${app.applicantIdPk}" -->
                Reject
              </button>
            </div>
          </div>
        </div>

        <!--  -->
        <!-- Accept modal -->
        <div class="modal" tabindex="-1" role="dialog" id="accept-modal">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title font-bold text-green-700">
                  Accept Confirmation
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p>Do you want to accept this application?</p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
                <button type="submit" name="accept" class="btn btn-success">
                  Confirm
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Resubmit modal -->
        <div class="modal" tabindex="-1" role="dialog" id="resubmit-modal">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title font-bold text-orange-500">
                  Resubmission Confirmation
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <input
                  type="hidden"
                  name="resubmitFlg"
                  value="true"
                  id="resubmit-no"
                  class="form-check-input"
                />
                <p>
                  Are you sure you want to resubmit this application for further
                  improvements? This action will initiate the resubmission
                  process.
                </p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
                <button
                  type="submit"
                  name="reject"
                  class="btn btn-resubmission"
                >
                  Confirm
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Reject modal -->
        <div class="modal" tabindex="-1" role="dialog" id="reject-modal">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title font-bold text-red-500">
                  Reject Confirmation
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <input
                  type="hidden"
                  name="resubmitFlg"
                  value="false"
                  id="resubmit-no"
                  class="form-check-input"
                />
                <p>Do you want to reject this application?</p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
                <button type="submit" name="reject" class="btn btn-reject">
                  Confirm
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Old Reject modal -->
        <!-- <div class="modal" tabindex="-1" role="dialog" id="old-reject-modal">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title font-bold text-red-700">Rejected</h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <p class="font-medium mb-2">Qualified for Reapplication?</p>
                  <div class="flex items-center text-center">
                    <input
                      type="radio"
                      name="resubmitFlg"
                      value="true"
                      id="resubmit-yes"
                      class="form-check-input"
                      th:checked="*{resubmitFlg}"
                    />
                    <label
                      class="cursor-pointer flex text-center form-check-label pl-4 pt-1"
                      for="resubmit-yes"
                    >
                      Yes
                    </label>
                  </div>
                  <div class="flex items-center">
                    <input
                      type="radio"
                      name="resubmitFlg"
                      value="false"
                      id="resubmit-no"
                      class="form-check-input"
                      th:checked="*{resubmitFlg == null ? 'checked' : !resubmitFlg}"
                    />
                    <label
                      for="resubmit-no"
                      class="cursor-pointer flex items-center form-check-label pl-4 pt-1"
                    >
                      No
                    </label>
                  </div>
                </div>

                <div class="text-right">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button type="submit" name="reject" class="btn btn-danger">
                    Reject
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div> -->
      </form>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModalCenter"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered rejected-modal-dialog"
        role="document"
      >
        <div class="modal-content application-list-tab">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">History</h5>

            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body application-list">
            <div>
              <div>Rejected Count</div>
              <div th:text="*{rejectedCount}" style="text-align: center"></div>
            </div>
            <button
              class="application-list rejected-applications view-btn"
              th:each="id, iStat : *{projectIdPks}"
              th:text="'Rejected Application #' + ${iStat.count}"
              th:value="${id}"
            ></button>
          </div>
        </div>
        <div class="modal-content rounded-md">
          <div class="modal-body application-details-tab">
            <div
              th:replace="~{fragments/applicationDetailsRejected :: applicationDetailsRejected}"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script
    src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"
  ></script>
  <script>
    $(document).ready(function () {
      $(".btn-row").on("click", function () {
        var idPk = $(this).data("id");
        var modalType = $(this).text().trim().toLowerCase();

        if (modalType === "accept") {
          $("#accept-applicant-id-pk").val(idPk);
        } else if (modalType === "reject") {
          $("#reject-applicant-id-pk").val(idPk);
        }
      });
    });
  </script>
  <script>
    // JavaScript function to remove the flash message after a specified time
    function hideFlashMessage() {
      const flashMessage = document.getElementById("flash-message");
      if (flashMessage) {
        setTimeout(() => {
          flashMessage.style.display = "none";
        }, 5000); // 5000 milliseconds = 5 seconds
      }
    }

    // Call the function on page load
    window.onload = hideFlashMessage;
  </script>
  <script th:inline="javascript">
    const webDto = /*[[${officerWebDto}]]*/ "";

    document.querySelectorAll(".view-btn").forEach((btn) =>
      btn.addEventListener("click", function () {
        retrieveApplicantDetails(webDto.encryptedApplicantIdPk, this.value);
      })
    );

    async function retrieveApplicantDetails(applicantIdPk, projectIdPk) {
      const url = `/officer/retrieve/details?applicantIdPk=${applicantIdPk}&projectIdPk=${projectIdPk}`;
      const response = await fetch(url, { method: "GET" });

      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(`Server Error: ${errorData.message || "Unknown"}`);
      }

      const data = await response.json();

      document.querySelector("#projectTitle").value =
        data.applicantDetailsObj.projectTitle;
      document.querySelector("#projectDescription").value =
        data.applicantDetailsObj.projectDescription;

      document.querySelectorAll("#teams[0][0]").value =
        data.applicantDetailsObj.teams[0][0];

      document.querySelectorAll("#teams[0][1]").value =
        data.applicantDetailsObj.teams[0][1];

      document.querySelectorAll("#teams[1][0]").value =
        data.applicantDetailsObj.teams[1][0];

      document.querySelectorAll("#teams[1][1]").value =
        data.applicantDetailsObj.teams[1][1];

      document.querySelectorAll("#teams[2][0]").value =
        data.applicantDetailsObj.teams[2][0];

      document.querySelectorAll("#teams[2][1]").value =
        data.applicantDetailsObj.teams[2][1];

      document.querySelectorAll("#teams[3][0]").value =
        data.applicantDetailsObj.teams[3][0];

      document.querySelectorAll("#teams[3][1]").value =
        data.applicantDetailsObj.teams[3][1];

      document.querySelectorAll("#teams[4][0]").value =
        data.applicantDetailsObj.teams[4][0];

      document.querySelectorAll("#teams[4][1]").value =
        data.applicantDetailsObj.teams[4][1];

      document.querySelector("#problemStatement").value =
        data.applicantDetailsObj.problemStatement;

      document.querySelector("#targetMarket").value =
        data.applicantDetailsObj.targetMarket;

      document.querySelector("#solutionDescription").value =
        data.applicantDetailsObj.solutionDescription;

      for (let i = 0; i < 5; i++) {
        for (let j = 0; j < 2; j++) {
          const selector = `#historicalTimeline${i}${j}`;
          const value =
            data.applicantDetailsObj.historicalTimeline[i] &&
            data.applicantDetailsObj.historicalTimeline[i][j]
              ? data.applicantDetailsObj.historicalTimeline[i][j]
              : "NA";
          document.querySelector(selector).value = value;
        }
      }

      for (let i = 0; i < 4; i++) {
        const selector = `#productServiceOffering${i}`;
        const value =
          data.applicantDetailsObj.productServiceOffering[i] !== undefined &&
          data.applicantDetailsObj.productServiceOffering[i].trim() !== ""
            ? data.applicantDetailsObj.productServiceOffering[i]
            : "NA";
        document.querySelector(selector).value = value;
      }

      for (let i = 0; i < 4; i++) {
        const selector = `#pricingStrategy${i}`;
        const value =
          data.applicantDetailsObj.pricingStrategy[i] !== undefined &&
          data.applicantDetailsObj.pricingStrategy[i].trim() !== ""
            ? data.applicantDetailsObj.pricingStrategy[i]
            : "NA";
        document.querySelector(selector).value = value;
      }

      if (
        data.applicantDetailsObj.intPropertyStatus !== undefined &&
        data.applicantDetailsObj.intPropertyStatus.trim() !== ""
      ) {
        document.querySelector("#intPropertyStatus").value =
          data.applicantDetailsObj.intPropertyStatus;
      } else {
        document.querySelector("#intPropertyStatus").value = "NA";
      }

      document.querySelector("#objectives").value =
        data.applicantDetailsObj.objectives;

      document.querySelector("#scopeProposal").value =
        data.applicantDetailsObj.scopeProposal;

      document.querySelector("#methodology").value =
        data.applicantDetailsObj.methodology;

      // document.querySelector("#vitaeFile").href =
      //   data.applicantDetailsObj.vitaeFile;
      if (
        data.applicantDetailsObj.supportLink !== undefined &&
        data.applicantDetailsObj.supportLink.trim() !== ""
      ) {
        document.querySelector("#supportLink").innerHTML =
          data.applicantDetailsObj.supportLink;
        document.querySelector("#supportLink").href =
          data.applicantDetailsObj.supportLink;
      } else {
        document.querySelector("#supportLink").innerHTML = "NA";
      }

      document.querySelector("#groupName").value =
        data.applicantDetailsObj.groupName;

      document.querySelector("#groupLeader").value =
        data.applicantDetailsObj.leaderLastName +
        ", " +
        applicantDetailsObj.leaderFirstName;

      document.querySelector("#leaderNumber").value =
        data.applicantDetailsObj.mobileNumber;

      document.querySelector("#leaderAddress").value =
        data.applicantDetailsObj.address;

      if (
        data.applicantDetailsObj.members[0] !== undefined &&
        !data.applicantDetailsObj.members[0].includes("null")
      ) {
        document.querySelector("#members[0]").value =
          data.applicantDetailsObj.members[0];
      } else {
        document.querySelector("#members[0]").value = "NA";
      }
      if (
        data.applicantDetailsObj.members[1] !== undefined &&
        !data.applicantDetailsObj.members[1].includes("null")
      ) {
        document.querySelector("#members[1]").value =
          data.applicantDetailsObj.members[1];
      } else {
        document.querySelector("#members[1]").value = "NA";
      }
      if (
        data.applicantDetailsObj.members[2] !== undefined &&
        !data.applicantDetailsObj.members[2].includes("null")
      ) {
        document.querySelector("#members[2]").value =
          data.applicantDetailsObj.members[2];
      } else {
        document.querySelector("#members[2]").value = "NA";
      }
      if (
        data.applicantDetailsObj.members[3] !== undefined &&
        !data.applicantDetailsObj.members[3].includes("null")
      ) {
        document.querySelector("#members[3]").value =
          data.applicantDetailsObj.members[3];
      } else {
        document.querySelector("#members[3]").value = "NA";
      }

      // document.querySelector("#members[1]").value=
      // data.applicantDetailsObj.members[1];

      // document.querySelector("#members[2]").value=
      // data.applicantDetailsObj.members[2];

      // document.querySelector("#members[3]").value=
      // data.applicantDetailsObj.members[3];

      if (
        data.applicantDetailsObj.university !== undefined &&
        data.applicantDetailsObj.university.trim() !== ""
      ) {
        document.querySelector("#university").value =
          data.applicantDetailsObj.university;
      } else {
        document.querySelector("#university").value = "NA";
      }
    }
  </script>
</html>
